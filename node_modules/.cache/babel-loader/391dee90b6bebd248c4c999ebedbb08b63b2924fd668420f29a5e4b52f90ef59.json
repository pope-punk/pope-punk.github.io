{"ast":null,"code":"import{useState,useEffect}from'react';import{isValidVector}from'../utils/pewArrangements';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VectorInput=_ref=>{let{vector,onChange,validVectors}=_ref;const[inputVector,setInputVector]=useState(vector.join(','));const[error,setError]=useState('');// Update local state when parent vector changes\nuseEffect(()=>{setInputVector(vector.join(','));},[vector]);const handleInputChange=e=>{setInputVector(e.target.value);// Clear error when user starts typing\nsetError('');};const handleSubmit=e=>{e.preventDefault();try{const newVector=inputVector.split(',').map(num=>parseInt(num.trim()));if(newVector.length!==6){setError('Vector must have exactly 6 components');return;}// Check individual constraints\nconst[r1,r2,r3,d1,d2,d3]=newVector;if(r1!==0&&r1!==2){setError('First component (innermost ring) must be 0 or 2');return;}if(!newVector.every((val,i)=>i===0?val===0||val===2:val===0||val===2||val===4||val===6)){setError('All components must be 0, 2, 4, or 6 (first component only 0 or 2)');return;}if(r1+r2+r3!==6){setError('Ring components (first 3) must sum to 6');return;}if(d1+d2+d3!==6){setError('Diagonal components (last 3) must sum to 6');return;}// Check geometric validity\nif(!isValidVector(newVector)){setError('Invalid vector: Geometrically impossible arrangement');return;}setError('');onChange(newVector);}catch(e){setError('Invalid input format. Use comma-separated numbers');}};const handleSelectVector=e=>{if(!e.target.value)return;const selectedVector=validVectors[parseInt(e.target.value)];setInputVector(selectedVector.join(','));setError('');onChange(selectedVector);};return/*#__PURE__*/_jsxs(\"div\",{className:\"vector-input\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Enter vector (r1,r2,r3,d1,d2,d3):\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputVector,onChange:handleInputChange,placeholder:\"0,0,6,2,2,2\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",style:{color:'red'},children:error})]}),/*#__PURE__*/_jsx(\"div\",{className:\"presets\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Select a valid vector:\",/*#__PURE__*/_jsxs(\"select\",{onChange:handleSelectVector,value:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select --\"}),validVectors.map((vector,index)=>/*#__PURE__*/_jsxs(\"option\",{value:index,children:[\"(\",vector.join(', '),\") \",index<5?' - Multiply Realizable':'']},index))]})]})})]});};export default VectorInput;","map":{"version":3,"names":["useState","useEffect","isValidVector","jsx","_jsx","jsxs","_jsxs","VectorInput","_ref","vector","onChange","validVectors","inputVector","setInputVector","join","error","setError","handleInputChange","e","target","value","handleSubmit","preventDefault","newVector","split","map","num","parseInt","trim","length","r1","r2","r3","d1","d2","d3","every","val","i","handleSelectVector","selectedVector","className","children","onSubmit","type","placeholder","style","color","index"],"sources":["C:/ApplicationDev/pope-punk.github.io/hexagonal-church-app/src/components/VectorInput.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { isValidVector } from '../utils/pewArrangements';\n\nconst VectorInput = ({ vector, onChange, validVectors }) => {\n  const [inputVector, setInputVector] = useState(vector.join(','));\n  const [error, setError] = useState('');\n  \n  // Update local state when parent vector changes\n  useEffect(() => {\n    setInputVector(vector.join(','));\n  }, [vector]);\n  \n  const handleInputChange = (e) => {\n    setInputVector(e.target.value);\n    // Clear error when user starts typing\n    setError('');\n  };\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    try {\n      const newVector = inputVector.split(',').map(num => parseInt(num.trim()));\n      \n      if (newVector.length !== 6) {\n        setError('Vector must have exactly 6 components');\n        return;\n      }\n      \n      // Check individual constraints\n      const [r1, r2, r3, d1, d2, d3] = newVector;\n      \n      if (r1 !== 0 && r1 !== 2) {\n        setError('First component (innermost ring) must be 0 or 2');\n        return;\n      }\n      \n      if (!newVector.every((val, i) => i === 0 ? \n        (val === 0 || val === 2) : \n        (val === 0 || val === 2 || val === 4 || val === 6))) {\n        setError('All components must be 0, 2, 4, or 6 (first component only 0 or 2)');\n        return;\n      }\n      \n      if (r1 + r2 + r3 !== 6) {\n        setError('Ring components (first 3) must sum to 6');\n        return;\n      }\n      \n      if (d1 + d2 + d3 !== 6) {\n        setError('Diagonal components (last 3) must sum to 6');\n        return;\n      }\n      \n      // Check geometric validity\n      if (!isValidVector(newVector)) {\n        setError('Invalid vector: Geometrically impossible arrangement');\n        return;\n      }\n      \n      setError('');\n      onChange(newVector);\n    } catch (e) {\n      setError('Invalid input format. Use comma-separated numbers');\n    }\n  };\n  \n  const handleSelectVector = (e) => {\n    if (!e.target.value) return;\n    \n    const selectedVector = validVectors[parseInt(e.target.value)];\n    setInputVector(selectedVector.join(','));\n    setError('');\n    onChange(selectedVector);\n  };\n  \n  return (\n    <div className=\"vector-input\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"input-row\">\n          <label>\n            Enter vector (r1,r2,r3,d1,d2,d3):\n            <input\n              type=\"text\"\n              value={inputVector}\n              onChange={handleInputChange}\n              placeholder=\"0,0,6,2,2,2\"\n            />\n          </label>\n          <button type=\"submit\">Update</button>\n        </div>\n        {error && <p className=\"error\" style={{color: 'red'}}>{error}</p>}\n      </form>\n      \n      <div className=\"presets\">\n        <label>\n          Select a valid vector:\n          <select onChange={handleSelectVector} value=\"\">\n            <option value=\"\">-- Select --</option>\n            {validVectors.map((vector, index) => (\n              <option key={index} value={index}>\n                ({vector.join(', ')}) {index < 5 ? ' - Multiply Realizable' : ''}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n    </div>\n  );\n};\n\nexport default VectorInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}