{"ast":null,"code":"import{useState,useEffect,useRef}from\"react\";import HexagonalChurch from\"./components/HexagonalChurch\";import MatrixInput from\"./components/MatrixInput\";import{CANONICAL_STATE,isValidMatrix,calculateTransition,generateDefaultMatrix}from\"./utils/matrixUtils\";// Import custom assets\nimport buttonIcon from\"./assets/pew-icon.png\";import keypadBackground from\"./assets/keypad-background.png\";import pressedButton from\"./assets/pressed-button.png\";import unpressedButton from\"./assets/unpressed-button.png\";import hexagonBackground from\"./assets/church-background.png\";import appBackground from\"./assets/app-background.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// State for matrix input\nconst[currentMatrix,setCurrentMatrix]=useState(generateDefaultMatrix());const[previousMatrix,setPreviousMatrix]=useState(null);// State for animation\nconst[transformationSteps,setTransformationSteps]=useState([]);// Custom images setup\nconst customImages={buttonIcon,keypadBackground,pressedButton,unpressedButton,hexagonBackground,appBackground};// Ref for the canvas\nconst canvasRef=useRef(null);// Effect to set the app background\nuseEffect(()=>{if(appBackground){document.body.style.backgroundImage=`url(${appBackground})`;document.body.style.backgroundSize=\"cover\";document.body.style.backgroundPosition=\"center\";}return()=>{document.body.style.backgroundImage=\"none\";};},[]);// Handle matrix input submission\nconst handleMatrixSubmit=matrix=>{if(!isValidMatrix(matrix))return;// Only process if this is a different matrix than current\nif(JSON.stringify(matrix)!==JSON.stringify(currentMatrix)){// Store the previous matrix for animation\nsetPreviousMatrix(currentMatrix);// Calculate transformation steps\nconst steps=calculateTransition(currentMatrix,matrix);// Set the steps and current matrix\nsetTransformationSteps(steps);setCurrentMatrix(matrix);}};return(/*#__PURE__*/// Use 'app' for the overall container if needed, but ensure the main layout\n// uses the new structure. Remove the old 'main-container', \n// 'church-container', 'input-container' classes if they conflict.\n_jsxs(\"div\",{className:\"app-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"keypad-column\",children:[\" \",/*#__PURE__*/_jsx(MatrixInput,{initialMatrix:currentMatrix,onSubmit:handleMatrixSubmit,customImages:customImages})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-column\",children:[\" \",/*#__PURE__*/_jsx(HexagonalChurch,{ref:canvasRef,matrix:currentMatrix,animationSteps:transformationSteps,customImages:customImages})]})]}));}export default App;","map":{"version":3,"names":["useState","useEffect","useRef","HexagonalChurch","MatrixInput","CANONICAL_STATE","isValidMatrix","calculateTransition","generateDefaultMatrix","buttonIcon","keypadBackground","pressedButton","unpressedButton","hexagonBackground","appBackground","jsx","_jsx","jsxs","_jsxs","App","currentMatrix","setCurrentMatrix","previousMatrix","setPreviousMatrix","transformationSteps","setTransformationSteps","customImages","canvasRef","document","body","style","backgroundImage","backgroundSize","backgroundPosition","handleMatrixSubmit","matrix","JSON","stringify","steps","className","children","initialMatrix","onSubmit","ref","animationSteps"],"sources":["C:/ApplicationDev/pope-punk.github.io/src/App.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport HexagonalChurch from \"./components/HexagonalChurch\";\r\nimport MatrixInput from \"./components/MatrixInput\";\r\nimport { CANONICAL_STATE, isValidMatrix, calculateTransition, generateDefaultMatrix } from \"./utils/matrixUtils\";\r\n\r\n\r\n// Import custom assets\r\nimport buttonIcon from \"./assets/pew-icon.png\";\r\nimport keypadBackground from \"./assets/keypad-background.png\";\r\nimport pressedButton from \"./assets/pressed-button.png\";\r\nimport unpressedButton from \"./assets/unpressed-button.png\";\r\nimport hexagonBackground from \"./assets/church-background.png\";\r\nimport appBackground from \"./assets/app-background.png\";\r\n\r\nfunction App() {\r\n  // State for matrix input\r\n  const [currentMatrix, setCurrentMatrix] = useState(generateDefaultMatrix());\r\n  const [previousMatrix, setPreviousMatrix] = useState(null);\r\n\r\n  // State for animation\r\n  const [transformationSteps, setTransformationSteps] = useState([]);\r\n\r\n  // Custom images setup\r\n  const customImages = {\r\n    buttonIcon,\r\n    keypadBackground,\r\n    pressedButton,\r\n    unpressedButton,\r\n    hexagonBackground,\r\n    appBackground,\r\n  };\r\n\r\n  // Ref for the canvas\r\n  const canvasRef = useRef(null);\r\n\r\n  // Effect to set the app background\r\n  useEffect(() => {\r\n    if (appBackground) {\r\n      document.body.style.backgroundImage = `url(${appBackground})`;\r\n      document.body.style.backgroundSize = \"cover\";\r\n      document.body.style.backgroundPosition = \"center\";\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.backgroundImage = \"none\";\r\n    };\r\n  }, []);\r\n\r\n  // Handle matrix input submission\r\n  const handleMatrixSubmit = (matrix) => {\r\n    if (!isValidMatrix(matrix)) return;\r\n\r\n    // Only process if this is a different matrix than current\r\n    if (JSON.stringify(matrix) !== JSON.stringify(currentMatrix)) {\r\n      // Store the previous matrix for animation\r\n      setPreviousMatrix(currentMatrix);\r\n\r\n      // Calculate transformation steps\r\n      const steps = calculateTransition(currentMatrix, matrix);\r\n\r\n      // Set the steps and current matrix\r\n      setTransformationSteps(steps);\r\n      setCurrentMatrix(matrix);\r\n    }\r\n  };\r\n\r\n  return (\r\n    // Use 'app' for the overall container if needed, but ensure the main layout\r\n    // uses the new structure. Remove the old 'main-container', \r\n    // 'church-container', 'input-container' classes if they conflict.\r\n    <div className=\"app-layout\"> \r\n      <div className=\"keypad-column\"> {/* Left column (1/3) */}\r\n        <MatrixInput\r\n          initialMatrix={currentMatrix}\r\n          onSubmit={handleMatrixSubmit}\r\n          customImages={customImages} \r\n        />\r\n      </div>\r\n      <div className=\"church-column\"> {/* Right column (2/3) */}\r\n        <HexagonalChurch\r\n          ref={canvasRef}\r\n          matrix={currentMatrix}\r\n          animationSteps={transformationSteps}\r\n          customImages={customImages}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}