{"ast":null,"code":"import{useState,useEffect,useRef}from\"react\";import HexagonalChurch from\"./components/HexagonalChurch\";import MatrixInput from\"./components/MatrixInput\";import{CANONICAL_STATE,isValidMatrix,calculateTransition,generateDefaultMatrix}from\"./utils/matrixUtils\";// Import custom assets\nimport buttonIcon from\"./assets/pew-icon.png\";import keypadBackground from\"./assets/keypad-background.png\";import pressedButton from\"./assets/pressed-button.png\";import unpressedButton from\"./assets/unpressed-button.png\";import hexagonBackground from\"./assets/church-background.png\";import appBackground from\"./assets/app-background.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// State for matrix input\nconst[currentMatrix,setCurrentMatrix]=useState(generateDefaultMatrix());const[previousMatrix,setPreviousMatrix]=useState(null);// State for animation\nconst[transformationSteps,setTransformationSteps]=useState([]);// Custom images setup\nconst customImages={buttonIcon,keypadBackground,pressedButton,unpressedButton,hexagonBackground,appBackground};// Ref for the canvas\nconst canvasRef=useRef(null);// Effect to set the app background\nuseEffect(()=>{if(appBackground){document.body.style.backgroundImage=`url(${appBackground})`;document.body.style.backgroundSize=\"cover\";document.body.style.backgroundPosition=\"center\";}return()=>{document.body.style.backgroundImage=\"none\";};},[]);// Handle matrix input submission\nconst handleMatrixSubmit=matrix=>{if(!isValidMatrix(matrix))return;// Only process if this is a different matrix than current\nif(JSON.stringify(matrix)!==JSON.stringify(currentMatrix)){// Store the previous matrix for animation\nsetPreviousMatrix(currentMatrix);// Calculate transformation steps\nconst steps=calculateTransition(currentMatrix,matrix);// Set the steps and current matrix\nsetTransformationSteps(steps);setCurrentMatrix(matrix);}};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"church-container\",children:/*#__PURE__*/_jsx(HexagonalChurch,{ref:canvasRef,matrix:currentMatrix,animationSteps:transformationSteps,customImages:customImages})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(MatrixInput,{initialMatrix:currentMatrix,onSubmit:handleMatrixSubmit,customImages:customImages})})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","useRef","HexagonalChurch","MatrixInput","CANONICAL_STATE","isValidMatrix","calculateTransition","generateDefaultMatrix","buttonIcon","keypadBackground","pressedButton","unpressedButton","hexagonBackground","appBackground","jsx","_jsx","jsxs","_jsxs","App","currentMatrix","setCurrentMatrix","previousMatrix","setPreviousMatrix","transformationSteps","setTransformationSteps","customImages","canvasRef","document","body","style","backgroundImage","backgroundSize","backgroundPosition","handleMatrixSubmit","matrix","JSON","stringify","steps","className","children","ref","animationSteps","initialMatrix","onSubmit"],"sources":["C:/ApplicationDev/pope-punk.github.io/src/App.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport HexagonalChurch from \"./components/HexagonalChurch\";\r\nimport MatrixInput from \"./components/MatrixInput\";\r\nimport { CANONICAL_STATE, isValidMatrix, calculateTransition, generateDefaultMatrix } from \"./utils/matrixUtils\";\r\n\r\n\r\n// Import custom assets\r\nimport buttonIcon from \"./assets/pew-icon.png\";\r\nimport keypadBackground from \"./assets/keypad-background.png\";\r\nimport pressedButton from \"./assets/pressed-button.png\";\r\nimport unpressedButton from \"./assets/unpressed-button.png\";\r\nimport hexagonBackground from \"./assets/church-background.png\";\r\nimport appBackground from \"./assets/app-background.png\";\r\n\r\nfunction App() {\r\n  // State for matrix input\r\n  const [currentMatrix, setCurrentMatrix] = useState(generateDefaultMatrix());\r\n  const [previousMatrix, setPreviousMatrix] = useState(null);\r\n\r\n  // State for animation\r\n  const [transformationSteps, setTransformationSteps] = useState([]);\r\n\r\n  // Custom images setup\r\n  const customImages = {\r\n    buttonIcon,\r\n    keypadBackground,\r\n    pressedButton,\r\n    unpressedButton,\r\n    hexagonBackground,\r\n    appBackground,\r\n  };\r\n\r\n  // Ref for the canvas\r\n  const canvasRef = useRef(null);\r\n\r\n  // Effect to set the app background\r\n  useEffect(() => {\r\n    if (appBackground) {\r\n      document.body.style.backgroundImage = `url(${appBackground})`;\r\n      document.body.style.backgroundSize = \"cover\";\r\n      document.body.style.backgroundPosition = \"center\";\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.backgroundImage = \"none\";\r\n    };\r\n  }, []);\r\n\r\n  // Handle matrix input submission\r\n  const handleMatrixSubmit = (matrix) => {\r\n    if (!isValidMatrix(matrix)) return;\r\n\r\n    // Only process if this is a different matrix than current\r\n    if (JSON.stringify(matrix) !== JSON.stringify(currentMatrix)) {\r\n      // Store the previous matrix for animation\r\n      setPreviousMatrix(currentMatrix);\r\n\r\n      // Calculate transformation steps\r\n      const steps = calculateTransition(currentMatrix, matrix);\r\n\r\n      // Set the steps and current matrix\r\n      setTransformationSteps(steps);\r\n      setCurrentMatrix(matrix);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"main-container\">\r\n        <div className=\"church-container\">\r\n          <HexagonalChurch\r\n            ref={canvasRef}\r\n            matrix={currentMatrix}\r\n            animationSteps={transformationSteps}\r\n            customImages={customImages}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-container\">\r\n          <MatrixInput\r\n            initialMatrix={currentMatrix}\r\n            onSubmit={handleMatrixSubmit}\r\n            customImages={customImages}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}