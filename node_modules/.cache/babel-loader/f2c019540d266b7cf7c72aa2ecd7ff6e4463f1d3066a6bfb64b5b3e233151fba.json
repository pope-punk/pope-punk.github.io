{"ast":null,"code":"import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExportControls=_ref=>{let{canvasRef,vector}=_ref;const[exportFormat,setExportFormat]=useState('png');const[exporting,setExporting]=useState(false);const handleExport=()=>{if(!canvasRef.current)return;setExporting(true);try{const canvas=canvasRef.current;let dataUrl;if(exportFormat==='png'){dataUrl=canvas.toDataURL('image/png');}else if(exportFormat==='jpg'){dataUrl=canvas.toDataURL('image/jpeg',0.9);}else{// SVG export would require more complex implementation\nalert('SVG export is not supported yet');setExporting(false);return;}// Create a downloadable link\nconst link=document.createElement('a');link.download=`church-arrangement-${vector.join('-')}.${exportFormat}`;link.href=dataUrl;document.body.appendChild(link);link.click();document.body.removeChild(link);}catch(error){console.error('Export failed:',error);alert('Export failed: '+error.message);}finally{setExporting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"export-controls\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Export Arrangement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"export-options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"format-selection\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"format\",value:\"png\",checked:exportFormat==='png',onChange:()=>setExportFormat('png')}),\"PNG\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"format\",value:\"jpg\",checked:exportFormat==='jpg',onChange:()=>setExportFormat('jpg')}),\"JPEG\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"export-button\",onClick:handleExport,disabled:exporting,type:\"button\",children:exporting?'Exporting...':'Export Arrangement'})]})]});};export default ExportControls;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","ExportControls","_ref","canvasRef","vector","exportFormat","setExportFormat","exporting","setExporting","handleExport","current","canvas","dataUrl","toDataURL","alert","link","document","createElement","download","join","href","body","appendChild","click","removeChild","error","console","message","className","children","type","name","value","checked","onChange","onClick","disabled"],"sources":["C:/ApplicationDev/pope-punk.github.io/hexagonal-church-app/src/components/ExportControls.jsx"],"sourcesContent":["import { useState } from 'react';\n\nconst ExportControls = ({ canvasRef, vector }) => {\n  const [exportFormat, setExportFormat] = useState('png');\n  const [exporting, setExporting] = useState(false);\n  \n  const handleExport = () => {\n    if (!canvasRef.current) return;\n    \n    setExporting(true);\n    \n    try {\n      const canvas = canvasRef.current;\n      let dataUrl;\n      \n      if (exportFormat === 'png') {\n        dataUrl = canvas.toDataURL('image/png');\n      } else if (exportFormat === 'jpg') {\n        dataUrl = canvas.toDataURL('image/jpeg', 0.9);\n      } else {\n        // SVG export would require more complex implementation\n        alert('SVG export is not supported yet');\n        setExporting(false);\n        return;\n      }\n      \n      // Create a downloadable link\n      const link = document.createElement('a');\n      link.download = `church-arrangement-${vector.join('-')}.${exportFormat}`;\n      link.href = dataUrl;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error('Export failed:', error);\n      alert('Export failed: ' + error.message);\n    } finally {\n      setExporting(false);\n    }\n  };\n  \n  return (\n    <div className=\"export-controls\">\n      <h3>Export Arrangement</h3>\n      \n      <div className=\"export-options\">\n        <div className=\"format-selection\">\n          <label>\n            <input \n              type=\"radio\" \n              name=\"format\" \n              value=\"png\" \n              checked={exportFormat === 'png'} \n              onChange={() => setExportFormat('png')}\n            />\n            PNG\n          </label>\n          \n          <label>\n            <input \n              type=\"radio\" \n              name=\"format\" \n              value=\"jpg\" \n              checked={exportFormat === 'jpg'} \n              onChange={() => setExportFormat('jpg')}\n            />\n            JPEG\n          </label>\n        </div>\n        \n        <button \n          className=\"export-button\"\n          onClick={handleExport}\n          disabled={exporting}\n          type=\"button\"\n        >\n          {exporting ? 'Exporting...' : 'Export Arrangement'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ExportControls;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}